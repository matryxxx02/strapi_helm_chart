fullnameOverride: strapi

replicaCount: 2

port: 1337

envs:
  - name: APPLICATION_NAME 
    value: "strapi"
  - name: PORT
    value: '1337'
  - name: NODE_ENV
    value: development
  - name: DATABASE_HOST
    value: 91.168.63.125
  - name: DATABASE_NAME
    value: "postgres"
  - name: DATABASE_SRV
    value: "false"
  - name: DATABASE_PORT
    value: "15123"
  - name: DATABASE_SSl
    value: "false"    

image:
  repository: core.harbor.sostrats.com/atelier141/atelier141-back
  tag: latest
  pullPolicy: Always

imagePullSecrets: 
  - name: harbor-atelier141-regcred
    
service:
  type: ClusterIP
  port: 80
    
liveness:
  enabled: 1
  path: "/healthz"

readiness:
  enabled: 1
  path: "/healthz"

ingress:
  enabled: true 
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    cert-manager.io/cluster-issuer: "sostrats-production"
    kubernetes.io/ingress.class: public
  hosts:
    - host:  strapi.sostrats.com
      paths: []   
  tls: []
  
resources:
  limits:
    # cpu: 200m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 126Mi  
 
# Horizontal Pod Autoscaler
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80

nodeSelector: {}

tolerations: []

affinity: {}
